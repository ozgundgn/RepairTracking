<UserControl x:Name="UserControlHome" xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:RepairTracking.ViewModels"
             xmlns:services="clr-namespace:RepairTracking.Services"
             xmlns:views="clr-namespace:RepairTracking.Views"
             x:Class="RepairTracking.Views.HomeView"
             x:DataType="vm:HomeViewModel">
    <Design.DataContext>
        <vm:HomeViewModel />
    </Design.DataContext>
    <DockPanel>
        <!-- 1. PLACE YOUR REUSABLE COMPONENT HERE -->
        <!-- <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" HorizontalAlignment="Center"> -->
        <!--     <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" -->
        <!--                Text="Özenir Oto Müşteri Yönetim Paneli" -->
        <!--                FontSize="25" HorizontalAlignment="Center" /> -->
        <!-- </StackPanel> -->
        <!-- <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" HorizontalAlignment="Right"> -->
        <!--     <views:UserProfileHeaderView -->
        <!--         DataContext="{Binding HeaderViewModel}" /> -->
        <!-- </StackPanel> -->
     
        <Grid DockPanel.Dock="Top" ColumnDefinitions="*,*,*" RowDefinitions="Auto,Auto,Auto,Auto">
            <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Grid.ColumnSpan="3"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center" Margin="0 0 0 10">
                <!-- <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" -->
                <!--            Text="Özenir Oto Müşteri Yönetim Paneli" -->
                <!--            FontSize="25" HorizontalAlignment="Center" /> -->
            </StackPanel>
            <StackPanel Grid.Row="1" Grid.Column="0" Margin="0 20 0 0" Grid.ColumnSpan="3">
                <TextBlock Text="LOGO"></TextBlock>
            </StackPanel>
            <StackPanel Grid.Row="1" Grid.Column="2" Margin="20 20 0 0">
                <Grid ColumnDefinitions="*,*" RowDefinitions="*">
                    <Button Grid.Column="0" Margin="5" HorizontalAlignment="Right"
                            Command="{Binding OpenAddCustomerDialogCommand}">
                        <PathIcon Data="{StaticResource person_regular}" />
                    </Button>
                    <ItemsControl
                        Grid.Column="1" Margin="5">
                        <views:UserProfileHeaderView
                            DataContext="{Binding HeaderViewModel}" />
                    </ItemsControl>
                </Grid>
            </StackPanel>
            <StackPanel Grid.Column="0" Grid.Row="2" Margin="0 10 0 10" Grid.ColumnSpan="3">
                <Grid ColumnDefinitions="*,*,*" RowDefinitions="*" Margin="0 20 0 10">
                    <TextBox Text="{Binding SearchText}" Grid.Column="0"
                             Watermark="Ad, Soyad, Telefon, Plaka ile arama yapın" />
                    <Button Grid.Column="1" Margin="5 0" Content="Ara" Command="{Binding LoadPagedCustomersCommand}" />
                </Grid>
                <DataGrid x:Name="VehicleGrid" ItemsSource="{Binding ShowedCustomersModels}"
                          IsReadOnly="False"
                          CanUserReorderColumns="True"
                          CanUserResizeColumns="True"
                          CanUserSortColumns="True"
                          GridLinesVisibility="All"
                          BorderThickness="1" BorderBrush="Gray"
                          SelectedItem="{Binding SelectedCustomerModel,Mode=TwoWay}"
                          CellEditEnded="DataGrid_OnCellEditEnded">
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Binding="{Binding IsSelected}"></DataGridCheckBoxColumn>
                        <DataGridTextColumn Header="Ad" Binding="{Binding Name}" />
                        <DataGridTextColumn Header="Soyad" Binding="{Binding Surname}" />
                        <DataGridTextColumn Header="Plaka" Binding="{Binding PlateNumber}" />
                        <DataGridTextColumn Header="Telefon" Binding="{Binding PhoneNumber}" />
                        <DataGridTextColumn Header="Model" Binding="{Binding Model}" />
                        <DataGridTextColumn Header="Şasi No" Binding="{Binding ChassisNo}" />
                        <DataGridTextColumn Header="Tip" Binding="{Binding Type}" />
                        <DataGridTextColumn Header="Yetkili" Binding="{Binding CreatedUser}" />
                        <DataGridTemplateColumn Header="Detay">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="Araç Detayı" FontSize="10"
                                                VerticalAlignment="Center" HorizontalAlignment="Center">
                                            <Button.Command>
                                                <Binding Path="DataContext.OpenVehicleDetailsCommand"
                                                         ElementName="UserControlHome" />
                                            </Button.Command>
                                            <Button.CommandParameter>
                                                <Binding />
                                            </Button.CommandParameter>
                                        </Button>
                                        <Button Content="Kişi Detayı" FontSize="10" Margin="3 0"
                                                VerticalAlignment="Center" HorizontalAlignment="Center">
                                            <Button.Command>
                                                <Binding Path="DataContext.OpenCustomerDetailsCommand"
                                                         ElementName="UserControlHome" />
                                            </Button.Command>
                                            <Button.CommandParameter>
                                                <Binding />
                                            </Button.CommandParameter>
                                        </Button>
                                        <Button Content="D" FontSize="7" Margin="20 0 3 0"
                                                VerticalAlignment="Center" HorizontalAlignment="Center">
                                            <Button.Command>
                                                <Binding Path="DataContext.DeleteVehicleCommand"
                                                         ElementName="UserControlHome" />
                                            </Button.Command>
                                            <Button.CommandParameter>
                                                <Binding />
                                            </Button.CommandParameter>
                                            <!-- <PathIcon Data="{StaticResource person_regular}" /> -->
                                        </Button>
                                        <Button FontSize="7" Margin="0 0 3 0"
                                                VerticalAlignment="Center" HorizontalAlignment="Center">
                                            <Button.Command>
                                                <Binding Path="DataContext.DeleteVehicleCommand"
                                                         ElementName="UserControlHome" />
                                            </Button.Command>
                                            <Button.CommandParameter>
                                                <Binding />
                                            </Button.CommandParameter>
                                            <PathIcon Data="{StaticResource person_regular}" />
                                            <ToolTip.Tip>
                                                <!-- The content of your tooltip can be any control -->
                                                <StackPanel Orientation="Horizontal" Spacing="8">
                                                    <!-- You can even include icons! -->
                                                    <PathIcon Data="{StaticResource person_regular}" />
                                                    <StackPanel Spacing="4">
                                                        <TextBlock Text="View User Details" FontWeight="Bold" />
                                                        <TextBlock Text="Click to open the user's profile page."
                                                                   Foreground="Gray" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </ToolTip.Tip>
                                        </Button>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
            <Border Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3" Padding="10" BorderThickness="0,1,0,0" BorderBrush="LightGray">
                <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                    <Button Content="Previous" Command="{Binding PreviousPageCommand}" />
                    <TextBlock Text="{Binding CurrentPage}" Margin="10,0"/>
                    <TextBlock Text=" / " />
                    <TextBlock Text="{Binding TotalPages}" />
                    <Button Content="Next >>" Command="{Binding NextPageCommand}" />
                </StackPanel>
            </Border>
        </Grid>
        <!-- 1. The Pagination Controls at the Bottom -->
      
    </DockPanel>
</UserControl>